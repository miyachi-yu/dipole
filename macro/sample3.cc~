

int sample3(){

  MyApplication *app = MyApplication::instance();
  
  ESR esr( "cofeebean-a.txt", 64 );

  app->amplitude( 150.0 );
  app->mean( 0.65 );
  app->sigma( 0.2 );
  app->asym( 3.0 );
  app->draw( &esr );

  LineShape* lS = app->lineShapeObj();
  TF1 *f1 = new TF1( "lineShape", lS, 325, 335, 4, "LineShape" );
  f1->SetParameter( 0, 206 );
  f1->SetParameter( 1, 0.8 );
  f1->SetParameter( 2, 0.16 );
  f1->SetParameter( 3, 2.98 );

  
  f1->SetLineColor( kMagenta );
  f1->SetLineStyle( 2 );
  f1->SetLineWidth( 2 );
  f1->Draw( "SAME" );
  
  TGraph* g = (TGraph*) esr.GetGraphInteg()->Clone();

  g->Fit( f1, "", "", 325, 335 );

  app->draw();
  
  return 0;
}
